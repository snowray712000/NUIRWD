import * as Enumerable from "linq";
import { DText } from "src/app/bible-text-convertor/DText";
import { AddBrStdandard } from "src/app/version-parellel/one-ver/AddBrStdandard";
import { Comment2DText } from "./Comment2DText";

describe ('Comment2DText', () => {
    const sample1 = {"com_text":`\u58f9\u3001\u4eba\u985e\u7684\u4f86\u6e90 #1:1-11:32|\r\n  \u4e00\u3001\u4eba\u985e\u88ab\u9020 #\u5275 1:1-2:25|\r\n    \uff08\u4e00\uff09\u4e0a\u5e1d\u5275\u9020\u5b87\u5b99 #1:1-2:3|\r\n          1.\u5e8f\u8a00 #1:1-2|\r\n            (1)\u5728\u6642\u9593\u7684\u4e00\u958b\u59cb\uff0c\u4e0a\u5e1d\u5275\u9020\u5929\u5730 #1:1|\r\n              \u25cf#1:1|\u50c5\u6709\u4e03\u500b\u5b57\uff0cStrong number\u5206\u5225\u662f\uff1a\r\n                SNH07225\u3000SNH01254\u3000SNH00430\u3000SNH00853\u3000SNH08064\u3000SNH00853\u3000SNH00776\r\n              \u25cf\u300c\u8d77\u521d\u300d\uff1a\u4e3b\u8981\u7684\u610f\u601d\u662f\u6307\u4e00\u9023\u4e32\u4e8b\u7269\u7684\u300c\u9996\u5148\u300d\u3001\u300c\u7b2c\u4e00\u300d\u3002\u50b3\r\n                          \u7d71\u4e0a\u9019\u500b\u5b57\u88ab\u8b6f\u70ba\u300c\u8d77\u521d\u300d\u6216\u300c\u592a\u521d\u300d\uff0c\u4f46\u4e5f\u6709\u4e00\u4e9b\u4eba\r\n                          \u8a8d\u70ba\u61c9\u8a72\u8b6f\u70ba\u300c\u7576\u300d\uff08\u4ea6\u5373\u7576\u4e0a\u5e1d\u5275\u9020\u5929\u5730\u7684\u6642\u5019\uff0c\u5730\r\n                          \u5c31\u5df2\u7d93\u5b58\u5728\u65bc\u90a3\u88e1\u4e86\uff09\u3002\r\n                          \u8b6f\u70ba\u300c\u7576\u300d\u8207\u300c\u592a\u521d\u300d\u5728\u6587\u6cd5\u4e0a\u90fd\u8aaa\u5f97\u901a\uff0c\u4f46\u7531\u8056\u7d93\u7684\r\n                          \u5176\u4ed6\u7d93\u6587\u8207\u6240\u6709\u53e4\u8b6f\u672c\uff08\u4f8b\u5982\u4e03\u5341\u58eb\u8b6f\u672c\uff09\u90fd\u53ef\u4ee5\u770b\u51fa\r\n                          \u9019\u500b\u5b57\u8b6f\u70ba\u300c\u592a\u521d\u300d\u6bd4\u8f03\u59a5\u7576\u3002\r\n                          \u8a8d\u70ba\u61c9\u8a72\u8b6f\u70ba\u300c\u7576\u300d\u7684\u5b78\u8005\u9084\u6709\u4e00\u4e9b\u56e0\u7d20\u662f\u56e0\u70ba\u5df4\u6bd4\u502b\r\n                          \u7684\u5275\u4e16\u795e\u8a71\u5c31\u662f\u7528\u300c\u7576\u300d\u4f86\u958b\u982d\u7684\uff0c\u4f46\u9019\u4e26\u4e0d\u8868\u793a\u5e0c\u4f2f\r\n                          \u4f86\u6587\u7684\u8a18\u8f09\u4e5f\u5fc5\u9808\u7167\u5df4\u6bd4\u502b\u7684\u795e\u8a71\u6587\u6cd5\u4f86\u89e3\u4e0d\u53ef\u3002\r\n                          \u76ee\u524d\u5927\u591a\u6578\u7684\u5b78\u8005\u63a1\u7528\u300c\u8d77\u521d\u300d\u9019\u500b\u7ffb\u8b6f\u3002\r\n                          \u300c\u8d77\u521d\u300d\u4e26\u4e0d\u4e00\u5b9a\u662f\u6307\u4e00\u500b\u6975\u70ba\u77ed\u66ab\u7684\u6642\u9593\u9ede\uff0c\u5728\u8056\u7d93\r\n                          \u4e2d\u5e38\u5e38\u662f\u6307\u8457\u4e00\u6bb5\u5ef6\u5c55\u4f46\u4e0d\u78ba\u5b9a\u7684\u6642\u9593\u3002\r\n              \u25cf\u300c\u4e0a\u5e1d\u300d\uff1a\u539f\u6587\u662f\u300c\u8907\u6578\u300d\u4f46\u52d5\u8a5e\u662f\u55ae\u6578\u3002\u6709\u4eba\u8a8d\u70ba\u9019\u662f\u4e00\u7a2e\u300c\u986f\r\n                          \u8d6b\u7684\u8907\u6578\u300d\uff0c\u5c31\u50cf\u82f1\u570b\u5973\u738b\u81ea\u7a31\u70ba\u300cwe\u300d\uff08\u7ffb\u8b6f\u70ba\u300c\u6715\r\n                          \u300d\uff09\u3002\u5230\u5e95\u9019\u500b\u300c\u8907\u6578\u300d\u6709\u6c92\u6709\u300c\u986f\u8d6b\u300d\u6216\u300c\u5c0a\u8cb4\u300d\u7684\r\n                          \u542b\u610f\u662f\u96e3\u4ee5\u78ba\u5b9a\u7684\uff0c\u4e5f\u5f88\u53ef\u80fd\u7684\u9019\u500b\u5b57\u5c31\u662f\u9019\u6a23\uff0c\u6709\u8907\r\n                          \u6578\u7684\u5f62\u5f0f\u8207\u55ae\u6578\u7684\u610f\u7fa9\u3002\u9019\u500b\u5b57\u5728\u5169\u6cb3\u6d41\u57df\u662f\u4e00\u822c\u7684\u795e\r\n                          \u540d\uff0c\u4f46\u8056\u7d93\u4e2d\uff0c\u4ee5\u8272\u5217\u7684\u5217\u7956\u537b\u4ee5\u6b64\u5b57\u8868\u793a\u90a3\u7368\u4e00\u7684\u9020\r\n                          \u7269\u8005\u3002\r\n              \u25cf\u300c\u5275\u9020\u300d\uff1a\u9019\u500b\u5b57\u5728\u820a\u7d04\u51fa\u73fe54\u6b21\uff0c\u6bcf\u6b21\u7684\u4e3b\u8a5e\u90fd\u662f\u300c\u4e0a\u5e1d\u300d\u3002\u9019\r\n                          \u500b\u5b57\u539f\u672c\u6c92\u6709\u660e\u78ba\u7684\u300c\u5f9e\u7121\u8b8a\u6709\u300d\u7684\u610f\u601d\uff0c\u4e0d\u904e\u6b64\u5b57\u5728\r\n                          \u8056\u7d93\u4e2d\u5f9e\u4f86\u6c92\u6709\u7528\u4f86\u8868\u660e\u300c\u4e0a\u5e1d\u4ee5\u67d0\u7269\u9020\u51fa\u53e6\u4e00\u7269\u300d\uff0c\r\n                          \u4e14\u6b64\u8655\u7684\u4e0a\u4e0b\u6587\u7684\u78ba\u8868\u793a\u51fa\u9019\u662f\u4e00\u500b\u300c\u5f9e\u7121\u5230\u6709\u300d\u7684\u5275\r\n                          \u9020\u3002\r\n              \u25cf\u300c\u5929\u300d\uff1a\u539f\u6587\u578b\u614b\u70ba\u300c\u8907\u6578\u300d\uff08\u6b64\u5b57\u96d6\u7136\u6709\u300c\u96d9\u6578\u5b57\u5c3e\u300d\uff0c\u4f46\u578b\r\n                        \u614b\u8ddf\u96d9\u6578\u7121\u95dc\uff09\u3002\u5f8c\u671f\u7684\u4ee5\u8272\u5217\u4eba\u8a8d\u70ba\u6709\u4e03\u5c64\u5929\uff0c\u5305\u62ec\u300c\r\n                        \u4eba\u547c\u5438\u7684\u5929\u300d\u3001\u300c\u9ce5\u98db\u7684\u5929\u300d\u3001\u300c\u96f2\u884c\u7684\u5929\u300d\u3001\u300c\u85cf\u96e8\u7684\r\n                        \u5929\u300d\u3001\u300c\u65e5\u6708\u6240\u5728\u7684\u5929\u300d\u3001\u300c\u661f\u8fb0\u6240\u5728\u7684\u5929\u300d\u3001\u300c\u4e0a\u5e1d\u5bf6\r\n                        \u5ea7\u6240\u5728\u7684\u5929\u300d\u3002\u5176\u4e2d\u300c\u9ce5\u98db\u7684\u5929\u300d\u662f\u90aa\u9748\u8207\u58ae\u843d\u7684\u5929\u4f7f\u7b49\r\n                        \u5019\u5be9\u5224\u7684\u5730\u65b9\uff0c\u300c\u96f2\u884c\u7684\u5929\u300d\u662f\u6a02\u5712\u7684\u6240\u5728\u3002\r\n              \u25cf\u300c\u5730\u300d\uff1a\u300c\u5929\u300d\u8207\u300c\u5730\u300d\u524d\u90fd\u6709\u51a0\u8a5e\u3002\u56e0\u6b64\u9019\u500b\u300c\u5730\u300d\u6307\u7684\u5c31\u662f\u300c\r\n                        \u5927\u5730\u300d\u3002\r\n              \u25cf\u300c\u5929\u5730\u300d\uff1a\u6307\u7684\u5c31\u662f\u300c\u5b87\u5b99\u300d\u3002\u5728\u5e0c\u4f2f\u4f86\u6587\u4e2d\u6c92\u6709\u4e00\u500b\u5b57\u53ef\u4ee5\u8868\u9054\r\n                          \u300c\u5b87\u5b99\u300d\u7684\u89c0\u5ff5\uff0c\u5f97\u8981\u85c9\u52a9\u300c\u5169\u6975\u5316\u300d\u7684\u4fee\u8fad\u5b78\u65b9\u5f0f\u4f86\r\n                          \u8868\u9054\uff0c\u300c\u5929\u3001\u5730\u300d\u6b63\u662f\u8868\u9054\u51fa\u300c\u5b87\u5b99\u300d\u7684\u89c0\u5ff5\u3002\r\n\r\n            (2)\u5730\u7684\u72c0\u6cc1\u662f\u7a7a\u865b\u6df7\u6c8c\uff0c\u6df5\u9762\u9ed1\u6697\uff0c\u800c\u795e\u7684\u9748\u5728\u6c34\u9762\u4e0a\u904b\u884c\u3002#1:2|\r\n              \u25cf\u300c\u7a7a\u865b\u300d\uff1a\u57fa\u672c\u610f\u7fa9\u662f\u300c\u7a7a\u76ea\u300d\u3001\u300c\u865b\u7121\u300d\u3001\u300c\u8352\u6dbc\u300d\u3002\r\n              \u25cf\u300c\u6df7\u6c8c\u300d\uff1a\u5728\u8056\u7d93\u4e2d\u53ea\u51fa\u73fe\u4e09\u6b21#\u5275 1:2;\u8036 4:23;\u8cfd 34:11|\uff0c\u6bcf\u6b21\r\n                          \u90fd\u8ddf\u300c\u7a7a\u865b\u300d\u9023\u5728\u4e00\u8d77\u3002\u57fa\u672c\u610f\u7fa9\u662f\u300c\u7a7a\u7121\u4e00\u7269\u300d\u6216\u300c\r\n                          \u8352\u5ee2\u7121\u4eba\u5c45\u4f4f\u7684\u5730\u65b9\u300d\u3002\r\n              \u25cf\u300c\u7a7a\u865b\u6df7\u6c8c\u300d\uff1a\u662f\u300c\u8352\u856a\uff0c\u4ec0\u9ebc\u90fd\u6c92\u6709\u300d\u3001\u300c\u4e0d\u6bdb\u4e4b\u5730\u300d\u7684\u610f\u601d\uff0c\r\n                              \u800c\u975e\u300c\u6c92\u6709\u578b\u614b\u300d\u3001\u300c\u7a7a\u6d1e\u300d\u3001\u300c\u7121\u5f62\u8cea\u300d\u7684\u610f\u601d\r\n                              \u3002\r\n              \u25cf\u300c\u6df5\u300d\uff1a\u300c\u5927\u6c34\u300d\u3001\u300c\u539f\u59cb\u7684\u6d77\u6d0b\u300d\u3002\r\n              \u25cf\u300c\u6df5\u9762\u9ed1\u6697\u300d\uff1a\u76f4\u8b6f\u662f\u300c\u9ed1\u6697\u8986\u84cb\u5728\u6df1\u6df5\u4e4b\u4e0a\u300d\u3002\r\n              \u25cf\u300c\u9748\u300d\uff1a\u539f\u6587\u53ef\u4ee5\u6307\u300c\u98a8\u300d\u6216\u300c\u9748\u300d\uff0c\u4e0d\u904e\u9019\u88e1\u61c9\u8a72\u662f\u7528\u4f86\u6307\u4e0a\u5e1d\r\n                        \u7684\u300c\u9748\u300d\u6bd4\u8f03\u9069\u7576\uff0c\u5426\u5247\u5c31\u8ddf\u5f8c\u9762\u7684\u300c\u76e4\u65cb\u300d\u3001\u300c\u7ffc\u8986\u300d\r\n                        \u96e3\u4ee5\u5354\u8abf\u4e86\u3002\u4e5f\u6709\u89e3\u7d93\u5bb6\u8a8d\u70ba\u61c9\u8a72\u89e3\u91cb\u6210\u300c\u4e0a\u5e1d\u7684\u98a8\u300d\uff0c\r\n                        \u9019\u61c9\u8a72\u4e5f\u9084\u7b97\u53ef\u4ee5\u63a5\u53d7\uff0c\u4f46\u89e3\u91cb\u6210\u300c\u5de8\u5927\u7684\u98a8\u300d\u7684\u9019\u7a2e\u8aaa\r\n                        \u6cd5\u5c31\u88ab\u5927\u591a\u6578\u89e3\u7d93\u5bb6\u6240\u63da\u68c4\uff08\u628a\u300c\u4e0a\u5e1d\u300d\u89e3\u91cb\u6210\u300c\u5de8\u5927\u300d\r\n                        \u8aaa\u4e0d\u592a\u901a\uff09\u3002\r\n              \u25cf\u300c\u904b\u884c\u300d\uff1a\u6709\u300c\u76e4\u65cb\u300d\u3001\u300c\u7ffc\u8986\u300d\u3001\u300c\u611b\u80b2\u300d\u7b49\u610f\u7fa9\uff0c#\u7533 32:11| \r\n                          \u7528\u9019\u500b\u5b57\u6307\u9df9\u5728\u5b50\u5973\u7684\u5de2\u4e0a\u6427\u5c55\u7fc5\u8180\u3002\r\n              \u25ce\u6709\u4e00\u7a2e\u8aaa\u6cd5\u53eb\u300c\u6642\u6e9d\u8ad6\u300d\uff0c\u8a8d\u70ba#1:1|\u8207#1:2|\u4e4b\u9593\u6709\u4e00\u6bb5\u8056\u7d93\u6c92\u6709\r\n                \u8a18\u8f09\u7684\u6642\u9593\u3002#1:1|\u4e0a\u5e1d\u5275\u9020\u5929\u5730\uff0c\u800c\u6492\u4f46\u58ae\u843d\u9020\u6210#1:2|\u7684\u7a7a\u865b\u6df7\r\n                \u6c8c\u3002\u9019\u7a2e\u8aaa\u6cd5\u76ee\u524d\u88ab\u5927\u90e8\u5206\u7684\u89e3\u7d93\u5bb6\u6452\u68c4\uff0c\u4e3b\u8981\u7684\u539f\u56e0\u662f#1:2|\u524d\r\n                \u7684\u300cwaw\u300d\uff0c\u662f\u53cd\u610f\u9023\u63a5\u8a5e\uff0c\u8868\u660e\u4f5c\u8005\u662f\u5e0c\u671b\u8b80\u8005\u7684\u89c0\u9ede\u7531\u5b87\u5b99\u8f49\r\n                \u5230\u300c\u5927\u5730\u300d\u4e0a\u3002\r\n              \u25ce#1:2|\u610f\u7fa9\u662f\u300c\u539f\u59cb\u7684\u5927\u5730\u662f\u4e00\u7247\u4e0d\u6bdb\u4e4b\u5730\uff0c\u5927\u6c34\u4e0a\u9762\u8986\u84cb\u8457\u9ed1\u6697\uff0c\r\n                \u795e\u7684\u9748\u5728\u6c34\u9762\u4e0a\u76e4\u65cb\u7ffc\u8986\u8457\u9019\u539f\u59cb\u7684\u5927\u5730\u300d\u3002\r\n\r\n\r\n\r\n`}

    const sample2 = {"com_text":`          2.\u7b2c\u4e00\u65e5\u7684\u5275\u9020 #1:3-5|\r\n            (1)\u795e\u8aaa\u8981\u6709\u5149\uff0c\u5c31\u6709\u4e86\u5149\u3002 #1:3|\r\n              \u25cf\u795e\u300c\u8aaa\u300d\uff1a\u300c\u8aaa\u8a71\u300d\u3001\u300c\u767c\u8a00\u300d\u3002\u4e0a\u5e1d\u7684\u8a71\u6210\u70ba\u5275\u9020\u5de5\u5177\uff0c\u4f46\u4e0a\r\n                          \u5e1d\u600e\u6a23\u8aaa\u8a71\u5462\uff1f\u9019\u5c31\u4e0d\u662f\u6211\u5011\u53ef\u4ee5\u7406\u89e3\u7684\u4e8b\u60c5\u4e86\u3002\u4e0d\r\n                          \u904e\u81f3\u5c11\u6211\u5011\u77e5\u9053\u4e0a\u5e1d\u53ef\u4ee5\u300c\u767c\u8a00\u300d\u5c31\u662f\u3002\r\n              \u25cf\u8981\u300c\u6709\u300d\u5149\uff1a\u8ddf\u300c\u8036\u548c\u83ef\u300d\u3001\u300c\u96c5\u5a01\u300d\u767c\u97f3\u76f8\u8fd1\uff0c\u9019\u53ef\u80fd\u662f\u4e00\u500b\r\n                            \u6587\u5b57\u624b\u6cd5\u3002\r\n              \u25ce\u6bd4\u8f03\u5927\u7684\u554f\u984c\u5728\u65bc\u7b2c\u56db\u5929\u624d\u9020\u592a\u967d\uff0c\u90a3\u6b64\u8655\u7684\u300c\u5149\u300d\u8207\u5f8c\u9762\u300c\u6709\r\n                \u665a\u4e0a\uff0c\u6709\u65e9\u6668\u300d\u662f\u600e\u6a23\u4f86\u7684\uff1f\u6bd4\u8f03\u53ef\u80fd\u7684\u89e3\u91cb\u662f\u5275\u4e16\u8a18\u662f\u4ee5\u5730\u7403\r\n                \u70ba\u672c\u4f4d\u7684\u63cf\u5beb\u65b9\u5f0f\uff0c\u5be6\u969b\u4e0a\u4e0a\u5e1d\u5728\u7b2c\u4e00\u5929\u5c31\u5df2\u7d93\u5275\u9020\u4e86\u300c\u592a\u967d\u300d\r\n                \u8207\u300c\u661f\u5bbf\u300d\u7b49\u5149\u9ad4\uff0c\u4f46\u662f\u5230\u4e86\u7b2c\u56db\u5929\u96f2\u9727\u6563\u958b\uff0c\u5730\u7403\u624d\u80fd\u770b\u898b\u9019\r\n                \u4e9b\u767c\u5149\u7684\u661f\u9ad4\uff0c\u4e4b\u524d\u4ee5\u5730\u7403\u7684\u89d2\u5ea6\u4f86\u770b\uff0c\u661f\u9ad4\u90fd\u9084\u662f\u88ab\u906e\u853d\u7684\u3002\r\n              \u25ce\u516d\u65e5\u7684\u5275\u9020\u5206\u6210\u4e86\u5c0d\u61c9\u7684\u4e00\u5230\u4e09\u65e5\u8207\u56db\u5230\u516d\u65e5\uff0c\u7b2c\u4e00\u65e5\u8207\u7b2c\u56db\u65e5\r\n                \u5c0d\u61c9\u3001\u7b2c\u4e8c\u65e5\u8207\u7b2c\u4e94\u65e5\u3001\u7b2c\u4e09\u65e5\u8207\u7b2c\u516d\u65e5\u5c0d\u61c9\u3002\u53ef\u80fd\u662f\u6587\u5b78\u6280\u5de7\r\n                \uff0c\u4e5f\u53ef\u80fd\u662f\u5be6\u969b\u7684\u5275\u9020\u9806\u5e8f\u3002\r\n            \r\n            (2)\u795e\u5c07\u5149\u6697\u5206\u958b\uff0c\u4e26\u5404\u81ea\u547d\u540d\uff0c\u9019\u662f\u982d\u4e00\u5929\u3002 #1:4-5|\r\n               \u25cf\u300c\u597d\u7684\u300d\uff1a\u300c\u53ef\u559c\u7684\u300d\u3001\u300c\u7f8e\u7684\u300d\u3001\u300c\u548c\u5b9c\u7684\u300d\u3002\r\n               \u25cf\u300c\u5206\u958b\u300d\uff1a\u300c\u5206\u5225\u51fa\u4f86\u300d\u3002\u9019\u662f\u4e0a\u5e1d\u5275\u9020\u7684\u91cd\u8981\u8981\u7d20\u4e4b\u4e00\u3002\r\n               \u25cf\u300c\u7a31\u300d\u5149\u70ba\u665d\uff1a\u300c\u5ba3\u4f48\u300d\u3001\u300c\u547d\u540d\u300d\u3002\u5728\u5169\u6cb3\u6d41\u57df\u7684\u6587\u5316\u4e2d\uff0c\r\n                               \u300c\u547d\u540d\u300d\u662f\u4e00\u7a2e\u4e3b\u6b0a\u7684\u8868\u73fe\uff0c\u5df4\u6bd4\u502b\u7684\u5275\u4e16\u795e\r\n                               \u8a71\u4e2d\u4e5f\u63d0\u53ca\u300c\u547d\u540d\u300d\u9019\u500b\u8b70\u984c\u3002\r\n               \u25cf\u300c\u6709\u665a\u4e0a\uff0c\u6709\u65e9\u6668\u300d\uff1a\u539f\u6587\u662f\u300c\u665a\u4e0a\u81e8\u5230\u300d\u3001\u300c\u65e9\u6668\u81e8\u5230\u300d\u3002\r\n               \u25cf\u982d\u4e00\u300c\u65e5\u300d\uff1a\u53ef\u4ee5\u89e3\u91cb\u70ba\u300c24\u5c0f\u6642\u300d\u6216\u300c\u4e00\u6bb5\u6642\u9593\u300d#\u8cfd 61:2|\r\n                             \u3002\u5169\u7a2e\u89e3\u91cb\u90fd\u6709\u5f37\u800c\u6709\u529b\u7684\u6839\u64da\uff0c\u4e0d\u904e\u5927\u90e8\u5206\u7684\r\n                             \u5b78\u8005\u8a8d\u70ba\u4e0a\u5e1d\u5275\u9020\u7684\u300c\u65e5\u300d\u61c9\u8a72\u4e0d\u662f\u300c24\u5c0f\u6642\u300d\r\n                             \u3002\r\n               \u25cf\u300c\u982d\u4e00\u65e5\u300d\uff1a\u539f\u6587\u50c5\u50c5\u662f\u300c\u4e00\u65e5\u300d\u800c\u975e\u300c\u7b2c\u4e00\u65e5\u300d\uff0c\u56e0\u6b64\u5f15\u8d77\r\n                             \u8a31\u591a\u5b78\u8005\u7684\u4e0d\u540c\u770b\u6cd5\u3002\u4f46\u53ef\u80fd\u9084\u662f\u89e3\u91cb\u70ba\u300c\u7b2c\u4e00\r\n                             \u65e5\u300d\u6703\u6bd4\u8f03\u59a5\u7576\u3002\r\n`}

    it('test', () => {
//         壹、人類的來源 #1:1-11:32|
//   一、人類被造 #創 1:1-2:25|
//     （一）上帝創造宇宙 #1:1-2:3|
//           1.序言 #1:1-2|

        let r1 = getInfoEachLine({w:"壹、人類的來源 #1:1-11:32|"})
        expect(r1.space).toBe(0)
        expect(r1.tp).toBe("壹、")
        expect(r1.tpIdx).toBe(0)


        //const op1 = new Comment2DText()
        //op1.main(sample1.com_text, {book:1,chap:1,verse:1})

        //op1.main(sample2.com_text, {book:1,chap:1,verse:3}  )

        console.log(sample1.com_text)
        expect(1).toBe(2);
    })
})

    /** 
     * 空白數目, 項目類型, 項目文字 
     * [零壹貳參肆伍陸柒捌玖拾] [一二三四五六七八九十百] ●◎⓪☆○※
     * 
     * {space: 14} 表示 原始文字前面的空白 14 個
     * {tp: '壹、'} 表示 偵測到的 list item ，還有
     * 一、 還有
     * 一 還有
     * 12. 還有
     * (12)  還有
     * ●
     * 
     * {tpIdx: 2} 就是第3類，就是上面的 '一' 這類
     * */ 
     function getInfoEachLine(a1: DText): any {
        if (a1.w == null || a1.w.length === 0) {
          return { ...a1 };
        }
        const rrr1 = getSpaceAndItem();
        return { ...a1, ...rrr1 };
  
        function getSpaceAndItem(): { space: number; tp?: string; tpIdx?: number; } {
          const tps = ['壹、', '一、', '（一）', '1.', '(1)', '●'];
          // tslint:disable-next-line: max-line-length
          const rr1 = /^(\s*)(?:([零壹貳參肆伍陸柒捌玖拾]+、)|([一二三四五六七八九十百]+、)|(（[零一二三四五六七八九十百]+）)|(\d+.)|(\(\d+\))|(「?[●◎⓪☆○※]|\/\*\*|\*\*\*))?/gi.exec(a1.w);
          if (rr1 == null) {
            console.warn('impossible');
          }
          
          // 因為 exec 結果 [0] 是所有 [1] 是第1個 capture 結果
          // [1] 是空白數量，所以才從 2 開始
          // 也就是 tpIdx=0 就是這類 [零壹貳參肆伍陸柒捌玖拾]+、
          // =1 就是 [一二三四五六七八九十百]+、
          const rrr2 = Enumerable.range(2, 6).firstOrDefault(aa1 => rr1[aa1] !== undefined);
          if (rrr2 == null) {
            return { space: rr1[1].length };
          }
          return { space: rr1[1].length, tp: rr1[rrr2], tpIdx: rrr2 - 2 };
        }
      }